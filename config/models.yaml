# Models Configuration
# Available models for each feature
# Use the actual adapter model IDs as defined in the adapter classes

# text-conditioned geometry/geometry+texture generation
text_to_textured_mesh:
  trellis_text_to_textured_mesh:
    vram_requirement: 11776  # MB
    supported_inputs: ["text"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS"
    enabled: true
    max_workers: 1

# text-conditioned mesh painting
text_mesh_painting:
  trellis_text_mesh_painting:
    vram_requirement: 11776  # MB
    supported_inputs: ["mesh", "text"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS"
    enabled: true
    max_workers: 1

# image-conditioned geometry generation
image_to_raw_mesh:    
  hunyuan3dv21_image_to_raw_mesh:
    vram_requirement: 8192  # MB
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/Hunyuan3D-2.1"
    enabled: true
    max_workers: 1
    
  partpacker_image_to_raw_mesh:
    vram_requirement: 10240  # MB
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/PartPacker"
    enabled: true
    max_workers: 1
  
  ultrashape_image_to_raw_mesh:
    vram_requirement: 26640  # MB (20GB: 8GB Hunyuan + 12GB UltraShape)
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj", "ply"]
    model_path: "thirdparty/UltraShape"
    enabled: true
    max_workers: 1

# image-conditioned geometry+texture generation
image_to_textured_mesh:
  trellis_image_to_textured_mesh:
    vram_requirement: 11776  # MB
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS"
    enabled: true
    max_workers: 1

  trellis2_image_to_textured_mesh:
    vram_requirement: 12288  # MB (12GB, TRELLIS.2)
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS.2"
    enabled: true
    max_workers: 1

  hunyuan3dv21_image_to_textured_mesh:
    vram_requirement: 19456  # MB
    supported_inputs: ["image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/Hunyuan3D-2.1"
    enabled: true
    max_workers: 1

# image-conditioned mesh painting
image_mesh_painting:
  trellis_image_mesh_painting:
    vram_requirement: 11776  # MB
    supported_inputs: ["mesh", "image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS"
    enabled: true
    max_workers: 1

  trellis2_image_mesh_painting:
    vram_requirement: 12288  # MB (12GB, TRELLIS.2)
    supported_inputs: ["mesh", "image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/TRELLIS.2"
    enabled: true
    max_workers: 1

  hunyuan3dv21_image_mesh_painting:
    vram_requirement: 12288  # MB
    supported_inputs: ["mesh", "text", "image"]
    supported_outputs: ["glb", "obj"]
    model_path: "thirdparty/Hunyuan3D-2"
    enabled: true
    max_workers: 1

# mesh segmentation
mesh_segmentation:
  partfield_mesh_segmentation:
    vram_requirement: 4096  # MB
    supported_inputs: ["glb", "obj"]
    supported_outputs: ["glb"]
    model_path: "thirdparty/PartField"
    enabled: true
    max_workers: 1
  
  p3sam_mesh_segmentation:
    vram_requirement: 61440  # MB (60GB, P3-SAM)
    supported_inputs: ["glb", "obj", "ply"]
    supported_outputs: ["glb"]
    model_path: "pretrained/P3-SAM/last.ckpt"
    enabled: true
    max_workers: 1

auto_rig:
  unirig_auto_rig:
    vram_requirement: 9216  # MB
    supported_inputs: ["obj", "glb", "fbx"]
    supported_outputs: ["glb", "fbx"]
    model_path: "thirdparty/UniRig"
    enabled: true
    max_workers: 1

# mesh retopology
mesh_retopology:
  fastmesh_v1k_retopology:
    vram_requirement: 16384  # MB
    supported_inputs: ["obj", "glb", "ply", "stl"]
    supported_outputs: ["obj", "glb", "ply"]
    model_path: "pretrained/FastMesh-V1K"
    enabled: true
    max_workers: 1
    
  fastmesh_v4k_retopology:
    vram_requirement: 24500  # MB
    supported_inputs: ["obj", "glb", "ply", "stl"]
    supported_outputs: ["obj", "glb", "ply"]
    model_path: "pretrained/FastMesh-V4K"
    enabled: true
    max_workers: 1

# UV unwrapping
uv_unwrapping:
  partuv_uv_unwrapping:
    vram_requirement: 7168  # MB
    supported_inputs: ["obj", "glb"]
    supported_outputs: ["obj"]
    model_path: "pretrained/PartField/model_objaverse.ckpt"
    enabled: true
    max_workers: 1

# Mesh editing (local editing with VoxHammer)
text_mesh_editing:
  voxhammer_text_mesh_editing:
    vram_requirement: 40960  # MB (40GB: TRELLIS + rendering)
    supported_inputs: ["mesh", "text"]
    supported_outputs: ["glb"]
    model_path: "thirdparty/VoxHammer"
    enabled: true
    max_workers: 1

image_mesh_editing:
  voxhammer_image_mesh_editing:
    vram_requirement: 40960  # MB (40GB: TRELLIS + rendering)
    supported_inputs: ["mesh", "image"]
    supported_outputs: ["glb"]
    model_path: "thirdparty/VoxHammer"
    enabled: true
    max_workers: 1
